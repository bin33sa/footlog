<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fl.mapper.TimeSlotMapper">

		<!-- 타임카드 리스트 -->
		<select id="listTimeSlots" parameterType="map" resultType="com.fl.model.StadiumTimeSlotDTO">
    	SELECT
        tc.time_code AS timeCode,
        tc.label AS timeLabel,
        NVL(s.available_yn, 'N') AS availableYn
    	FROM time_code tc
    	
    	LEFT JOIN stadium_timeSlot s
        ON s.time_code = tc.time_code
        AND s.stadium_code = #{stadiumCode}
        AND s.play_date = TO_DATE(#{playDate}, 'YYYY-MM-DD')
    	ORDER BY tc.time_code
		</select>
		

</mapper>